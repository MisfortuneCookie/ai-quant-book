<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 620 340">
  <defs>
    <marker id="arrow-stma-en" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
  </defs>
  <style>
    .title { font: 600 13px 'SF Mono', 'Menlo', 'Monaco', monospace; fill: #1a1a1a; }
    .subtitle { font: 500 10px 'SF Mono', 'Menlo', 'Monaco', monospace; fill: #666; letter-spacing: 0.5px; }
    .section-title { font: 600 11px 'SF Mono', 'Menlo', 'Monaco', monospace; fill: #1a1a1a; }
    .box-text { font: 600 12px 'SF Mono', 'Menlo', 'Monaco', monospace; fill: #1a1a1a; text-anchor: middle; }
    .box-sub { font: 500 9px 'SF Mono', 'Menlo', 'Monaco', monospace; fill: #666; text-anchor: middle; }
    .note { font: 500 9px 'SF Mono', 'Menlo', 'Monaco', monospace; fill: #666; }
  </style>

  <!-- Background -->
  <rect width="620" height="340" fill="#fff"/>

  <!-- Title -->
  <text x="310" y="25" text-anchor="middle" class="title">From Single Agent to Multi-Agent</text>
  <text x="310" y="40" text-anchor="middle" class="subtitle">ARCHITECTURE EVOLUTION</text>

  <!-- Section 1: Single Agent -->
  <text x="40" y="70" class="section-title">Single Agent (this lesson):</text>

  <!-- Large single agent box -->
  <rect x="40" y="85" width="540" height="70" fill="#dbeafe" stroke="#60a5fa" stroke-width="1.5" rx="2"/>
  <text x="310" y="115" class="box-text">Signal Agent</text>
  <text x="310" y="135" class="box-sub">Prediction + Decision + Risk + Execution All-in-One</text>

  <!-- Section 2: Multi-Agent -->
  <text x="40" y="190" class="section-title">Multi-Agent (future lessons):</text>

  <!-- Signal Agent -->
  <rect x="40" y="205" width="130" height="60" fill="#d1fae5" stroke="#10b981" stroke-width="1.5" rx="2"/>
  <text x="105" y="235" class="box-text">Signal Agent</text>
  <text x="105" y="250" class="box-sub">Signal Generation</text>

  <!-- Arrow Signal -> Risk -->
  <line x1="170" y1="235" x2="210" y2="235" stroke="#666" stroke-width="1.5" marker-end="url(#arrow-stma-en)"/>

  <!-- Risk Agent -->
  <rect x="220" y="205" width="130" height="60" fill="#fef3c7" stroke="#f59e0b" stroke-width="1.5" rx="2"/>
  <text x="285" y="235" class="box-text">Risk Agent</text>
  <text x="285" y="250" class="box-sub">Risk Review</text>

  <!-- Arrow Risk -> Execution -->
  <line x1="350" y1="235" x2="390" y2="235" stroke="#666" stroke-width="1.5" marker-end="url(#arrow-stma-en)"/>

  <!-- Execution Agent -->
  <rect x="400" y="205" width="140" height="60" fill="#fce7f3" stroke="#f9a8d4" stroke-width="1.5" rx="2"/>
  <text x="470" y="235" class="box-text">Execution Agent</text>
  <text x="470" y="250" class="box-sub">Order Execution</text>

  <!-- Position Agent (feedback loop) -->
  <rect x="200" y="290" width="170" height="40" fill="#e0e7ff" stroke="#818cf8" stroke-width="1.5" rx="2"/>
  <text x="285" y="315" class="box-text">Position Agent</text>

  <!-- Feedback loop: Execution -> Position Agent -->
  <line x1="470" y1="265" x2="470" y2="310" stroke="#666" stroke-width="1"/>
  <line x1="470" y1="310" x2="375" y2="310" stroke="#666" stroke-width="1" marker-end="url(#arrow-stma-en)"/>

  <!-- Feedback loop: Position Agent -> Signal -->
  <line x1="200" y1="310" x2="105" y2="310" stroke="#666" stroke-width="1"/>
  <line x1="105" y1="310" x2="105" y2="270" stroke="#666" stroke-width="1" marker-end="url(#arrow-stma-en)"/>

  <!-- Annotation -->
  <text x="520" y="310" class="note">Position Feedback</text>
</svg>
