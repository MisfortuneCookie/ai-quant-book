<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 400">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#1a1a1a"/>
    </marker>
  </defs>

  <rect width="600" height="400" fill="#fff"/>

  <!-- Title -->
  <text x="300" y="28" font-family="'SF Mono', 'Menlo', 'Monaco', monospace" font-size="14" font-weight="600" fill="#1a1a1a" text-anchor="middle">SIGNAL AGENT ARCHITECTURE</text>
  <text x="300" y="45" font-family="'SF Mono', 'Menlo', 'Monaco', monospace" font-size="10" fill="#666" text-anchor="middle">FEATURE ENGINEERING TO PREDICTION</text>

  <!-- Outer frame: Signal Agent -->
  <rect x="60" y="60" width="400" height="280" fill="none" stroke="#ccc" stroke-width="1" stroke-dasharray="6,3" rx="4"/>
  <text x="80" y="82" font-family="'SF Mono', 'Menlo', 'Monaco', monospace" font-size="11" font-weight="600" fill="#666">SIGNAL AGENT</text>

  <!-- Feature Engineering Module -->
  <rect x="90" y="100" width="340" height="60" fill="#67e8f9" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="260" y="125" font-family="'SF Mono', 'Menlo', 'Monaco', monospace" font-size="11" font-weight="600" fill="#1a1a1a" text-anchor="middle">FEATURE ENGINEERING</text>
  <text x="260" y="145" font-family="'SF Mono', 'Menlo', 'Monaco', monospace" font-size="9" fill="#666" text-anchor="middle">(Price, Technical Indicators, Alt Data)</text>

  <!-- Arrow from Feature to Model -->
  <path d="M260,160 L260,185" stroke="#1a1a1a" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>

  <!-- Model Ensemble Module -->
  <rect x="90" y="195" width="340" height="80" fill="#f9a8d4" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="260" y="220" font-family="'SF Mono', 'Menlo', 'Monaco', monospace" font-size="11" font-weight="600" fill="#1a1a1a" text-anchor="middle">MODEL ENSEMBLE</text>

  <!-- Individual model boxes inside -->
  <rect x="110" y="245" width="70" height="22" fill="#fff" stroke="#1a1a1a" stroke-width="1" rx="2"/>
  <text x="145" y="260" font-family="'SF Mono', 'Menlo', 'Monaco', monospace" font-size="8" font-weight="500" fill="#1a1a1a" text-anchor="middle">XGBoost</text>

  <rect x="195" y="245" width="70" height="22" fill="#fff" stroke="#1a1a1a" stroke-width="1" rx="2"/>
  <text x="230" y="260" font-family="'SF Mono', 'Menlo', 'Monaco', monospace" font-size="8" font-weight="500" fill="#1a1a1a" text-anchor="middle">Linear</text>

  <rect x="280" y="245" width="70" height="22" fill="#fff" stroke="#1a1a1a" stroke-width="1" rx="2"/>
  <text x="315" y="260" font-family="'SF Mono', 'Menlo', 'Monaco', monospace" font-size="8" font-weight="500" fill="#1a1a1a" text-anchor="middle">RF</text>

  <text x="370" y="260" font-family="'SF Mono', 'Menlo', 'Monaco', monospace" font-size="12" fill="#666">...</text>

  <!-- Arrow from Model to Output -->
  <path d="M260,275 L260,300" stroke="#1a1a1a" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>

  <!-- Output Module -->
  <rect x="140" y="308" width="240" height="40" fill="#fde047" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="260" y="332" font-family="'SF Mono', 'Menlo', 'Monaco', monospace" font-size="10" font-weight="500" fill="#1a1a1a" text-anchor="middle">OUTPUT: PREDICTED RETURN / RANK</text>

  <!-- Arrow from Signal Agent to Risk Agent -->
  <path d="M260,350 L260,380" stroke="#1a1a1a" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>

  <!-- Risk Agent label -->
  <text x="260" y="395" font-family="'SF Mono', 'Menlo', 'Monaco', monospace" font-size="9" fill="#666" text-anchor="middle">Pass to Risk Agent for Review</text>

  <!-- Side annotation: Data input sources -->
  <rect x="475" y="85" width="115" height="95" fill="#f3f4f6" stroke="#ccc" stroke-width="1" rx="2"/>
  <text x="532" y="105" font-family="'SF Mono', 'Menlo', 'Monaco', monospace" font-size="9" font-weight="500" fill="#666" text-anchor="middle">DATA INPUT</text>
  <text x="532" y="125" font-family="'SF Mono', 'Menlo', 'Monaco', monospace" font-size="8" fill="#999" text-anchor="middle">OHLCV</text>
  <text x="532" y="140" font-family="'SF Mono', 'Menlo', 'Monaco', monospace" font-size="8" fill="#999" text-anchor="middle">Tech Indicators</text>
  <text x="532" y="155" font-family="'SF Mono', 'Menlo', 'Monaco', monospace" font-size="8" fill="#999" text-anchor="middle">Alt Data</text>
  <text x="532" y="170" font-family="'SF Mono', 'Menlo', 'Monaco', monospace" font-size="8" fill="#999" text-anchor="middle">Fundamentals</text>
  <path d="M475,130 L435,130" stroke="#ccc" stroke-width="1" fill="none" marker-end="url(#arrow)"/>

  <!-- Side annotation: Model selection guide -->
  <rect x="475" y="195" width="115" height="80" fill="#fef2f2" stroke="#f87171" stroke-width="1" rx="2"/>
  <text x="532" y="215" font-family="'SF Mono', 'Menlo', 'Monaco', monospace" font-size="9" font-weight="500" fill="#f87171" text-anchor="middle">MODEL SELECTION</text>
  <text x="532" y="235" font-family="'SF Mono', 'Menlo', 'Monaco', monospace" font-size="8" fill="#999" text-anchor="middle">&lt;5K: Linear</text>
  <text x="532" y="250" font-family="'SF Mono', 'Menlo', 'Monaco', monospace" font-size="8" fill="#999" text-anchor="middle">5K-50K: RF/XGB</text>
  <text x="532" y="265" font-family="'SF Mono', 'Menlo', 'Monaco', monospace" font-size="8" fill="#999" text-anchor="middle">&gt;50K: LSTM</text>
  <path d="M475,235 L435,235" stroke="#f87171" stroke-width="1" stroke-dasharray="3,2" fill="none"/>
</svg>
