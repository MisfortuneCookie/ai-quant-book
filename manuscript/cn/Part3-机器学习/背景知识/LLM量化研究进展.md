# 背景知识：LLM 量化研究进展

> 大语言模型（LLM）正在改变量化交易的研究范式。本文梳理当前 LLM 在量化领域的主要研究方向和代表性工作。

---

## 一、LLM 在量化中的应用场景

| 场景 | 传统方法 | LLM 方法 | 优势 |
|-----|---------|---------|-----|
| 情感分析 | 规则/词典 | 上下文理解 | 更准确、更灵活 |
| 新闻理解 | NLP 模型 | 深度语义理解 | 理解复杂因果 |
| 研报分析 | 人工阅读 | 自动提取 | 效率大幅提升 |
| 策略生成 | 人工编写 | 代码生成 | 快速原型 |
| 市场推理 | 规则系统 | 链式推理 | 多步骤逻辑 |

---

## 二、代表性研究工作

### 2.1 FinGPT (2023)

**来源**：Columbia University + AI4Finance

**定位**：开源金融大语言模型

**核心特点**：
- 基于 LLaMA 微调
- 金融语料训练
- 支持情感分析、问答、摘要
- 开源可用

**架构**：
```
基座模型 (LLaMA)
    ↓
金融语料预训练 (Financial News, SEC Filings)
    ↓
任务微调 (Sentiment, QA, Summarization)
    ↓
FinGPT
```

**局限**：
- 主要用于 NLP 任务
- 不能直接生成交易信号
- 实时性不足

**链接**：https://github.com/AI4Finance-Foundation/FinGPT

---

### 2.2 BloombergGPT (2023)

**来源**：Bloomberg

**定位**：500 亿参数的金融专用 LLM

**核心特点**：
- 专有模型，不开源
- 训练数据包含 Bloomberg 独有数据
- 在金融 NLP 任务上超越通用模型

**训练数据**：
| 数据类型 | 规模 |
|---------|------|
| 金融数据 | 3630 亿 tokens |
| 通用数据 | 3450 亿 tokens |

**性能**：在金融情感分析、NER 等任务上领先 GPT-3

**局限**：不开源，无法使用

---

### 2.3 FLAG-Trader (2024-2025)

**来源**：学术研究

**定位**：LLM + 强化学习的交易系统

**核心创新**：
- LLM 生成交易假设
- RL 验证并优化
- 反馈循环改进 LLM

**架构**：
```
市场数据 + 新闻
    ↓
LLM (生成交易假设)
    ↓
RL Agent (执行并评估)
    ↓
Reward 反馈
    ↓
LLM 改进 (从反馈中学习)
```

**优势**：
- 结合 LLM 的推理能力和 RL 的优化能力
- 可解释性好
- 能处理文本 + 数值多模态数据

---

### 2.4 TradingGPT / QuantGPT 系列

**定位**：使用 GPT-4 等模型进行交易决策

**方法**：
- 直接使用 GPT-4 API
- 设计特定 prompt
- 生成交易建议

**典型 Prompt**：
```
你是一个量化分析师。基于以下市场数据：
- BTC 过去24小时涨幅: +5.2%
- RSI(14): 72
- 成交量: 较昨日上涨30%

请分析当前市场状态并给出交易建议。
```

**局限**：
- 依赖 API，延迟高
- 成本高
- 幻觉问题

---

### 2.5 MM-DREX (2024)

**定位**：多模态交易系统

**核心创新**：
- 直接"看"K线图
- 结合文本 + 图像
- 视觉模式识别

**输入**：
```
文本: 新闻、指标数值
图像: K线图、技术分析图表
    ↓
多模态 LLM
    ↓
交易决策
```

**优势**：模仿人类交易员"看图"的能力

---

## 三、主要研究方向

### 3.1 情感分析增强

**传统方法**：
```python
# 简单词典方法
positive_words = ['bullish', 'surge', 'rally']
negative_words = ['bearish', 'crash', 'plunge']
```

**LLM 方法**：
```python
# 上下文理解
prompt = """
分析以下新闻的市场情感（-1 到 1）：
"Fed signals potential rate cuts, but warns inflation remains sticky"

请考虑：
1. 直接影响
2. 隐含预期
3. 市场可能的反应
"""
```

**优势**：理解复杂、矛盾的信息

---

### 3.2 因子发现与假设生成

**传统方法**：人工设计因子

**LLM 方法**：
```python
prompt = """
基于以下市场规律，提出可能有效的量化因子：
1. 小盘股长期跑赢大盘股
2. 高动量股票有延续性
3. 低波动股票风险调整收益更高

请提出3个新的因子假设，包括：
- 因子定义
- 理论依据
- 潜在风险
"""
```

**优势**：快速生成大量假设供测试

---

### 3.3 代码生成

**应用**：
- 策略代码生成
- 数据处理脚本
- 可视化代码

**示例**：
```python
prompt = """
用 Python 实现一个双均线策略：
- 短期均线：10日
- 长期均线：30日
- 金叉买入，死叉卖出
- 使用 pandas 处理数据
"""
```

**注意**：生成的代码需要人工审查

---

### 3.4 市场推理

**应用**：多步骤逻辑推理

**示例**：
```
问题：如果美联储加息，对科技股有什么影响？

LLM 推理链：
1. 加息 → 利率上升
2. 利率上升 → 贴现率提高
3. 贴现率提高 → 未来现金流现值下降
4. 科技股依赖未来增长 → 估值受影响更大
5. 结论：科技股可能下跌，特别是高估值成长股
```

---

## 四、当前局限

### 4.1 幻觉问题

LLM 可能生成看似合理但错误的分析：
- 虚构的数据
- 错误的因果关系
- 过度自信的预测

**应对**：始终用真实数据验证

### 4.2 实时性不足

- API 调用延迟：100-500ms
- 模型推理时间：1-10秒
- 不适合高频交易

### 4.3 成本问题

| 模型 | 成本 | 适用 |
|-----|------|-----|
| GPT-4 | $30-60/1M tokens | 研究 |
| GPT-3.5 | $0.5-2/1M tokens | 生产 |
| 开源模型 | 计算成本 | 自托管 |

### 4.4 不能预测价格

**LLM 能做**：
- 理解新闻
- 分析情感
- 生成假设

**LLM 不能做**：
- 预测明天价格
- 保证盈利
- 替代传统量化模型

---

## 五、实践建议

### 5.1 LLM 适合的任务

| 任务 | 推荐度 | 说明 |
|-----|-------|------|
| 新闻情感分析 | 高 | LLM 核心优势 |
| 研报摘要 | 高 | 效率提升明显 |
| 策略代码生成 | 中 | 需要人工审查 |
| 因子假设生成 | 中 | 需要回测验证 |
| 直接交易决策 | 低 | 风险高，不推荐 |

### 5.2 推荐架构

```
传统量化模型（主导）
    ↑
LLM 增强层（辅助）
- 情感信号
- 新闻过滤
- 假设生成
    ↑
原始数据
```

### 5.3 开源选择

| 模型 | 大小 | 适用 |
|-----|------|-----|
| LLaMA 3 | 8B-70B | 通用 |
| FinGPT | 7B | 金融 NLP |
| Mistral | 7B | 轻量部署 |
| Qwen | 7B-72B | 中文支持 |

---

## 六、未来趋势

1. **多模态融合**：文本 + 数值 + 图像
2. **Agent 化**：LLM 作为交易 Agent 的"大脑"
3. **实时化**：更低延迟的推理
4. **专业化**：更多金融专用模型
5. **合规化**：满足监管的可解释性要求

---

> **核心原则**：LLM 是强大的工具，但不是魔法。它能增强你的分析能力，但不能替代扎实的量化基础和严格的风控。
