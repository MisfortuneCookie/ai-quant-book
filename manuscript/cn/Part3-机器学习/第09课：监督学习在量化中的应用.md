# ç¬¬ 09 è¯¾ï¼šç›‘ç£å­¦ä¹ åœ¨é‡åŒ–ä¸­çš„åº”ç”¨

> **æœºå™¨å­¦ä¹ ä¸æ˜¯é­”æ³•ï¼Œè€Œæ˜¯ç»Ÿè®¡è§„å¾‹çš„æ”¾å¤§é•œã€‚å¦‚æœæ•°æ®é‡Œæ²¡æœ‰è§„å¾‹ï¼Œå†å¼ºçš„æ¨¡å‹ä¹Ÿæ¦¨ä¸å‡º Alphaã€‚**

---

## ä»"åœ£æ¯"åˆ°"å·¥å…·"

2017 å¹´ï¼Œä¸€å®¶å¯¹å†²åŸºé‡‘æ‹›å‹Ÿäº†ä¸€æ‰¹é¡¶çº§ AI ç ”ç©¶å‘˜ï¼Œæ‰¿è¯ºç”¨æ·±åº¦å­¦ä¹ "é©å‘½"é‡åŒ–äº¤æ˜“ã€‚

ä»–ä»¬æ„å»ºäº†ä¸€ä¸ª 10 å±‚ LSTM ç½‘ç»œï¼Œç”¨ 20 å¹´çš„åˆ†é’Ÿçº§æ•°æ®è®­ç»ƒï¼ŒGPU é›†ç¾¤è·‘äº†ä¸‰ä¸ªæœˆã€‚

**å›æµ‹ç»“æœï¼šå¹´åŒ– 150%ï¼Œå¤æ™® 4.0ã€‚**

åˆ›å§‹äººå…´å¥‹åœ°å®£å¸ƒï¼š"æˆ‘ä»¬æ‰¾åˆ°äº†åœ£æ¯ï¼"

**å®ç›˜ä¸‰ä¸ªæœˆå**ï¼š

- ç¬¬ä¸€ä¸ªæœˆï¼š+5%ï¼ˆç¬¦åˆé¢„æœŸï¼‰
- ç¬¬äºŒä¸ªæœˆï¼š-8%ï¼ˆå¼€å§‹æ‹…å¿§ï¼‰
- ç¬¬ä¸‰ä¸ªæœˆï¼š-15%ï¼ˆææ…Œï¼‰

ç´¯è®¡äºæŸ 18%ï¼Œè€ŒåŒæœŸæ ‡æ™® 500 æ¶¨äº† 8%ã€‚

**å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ**

1. **è¿‡æ‹Ÿåˆåˆ°å†å²å™ªéŸ³**ï¼š10 å±‚ LSTM æœ‰æ•°ç™¾ä¸‡å‚æ•°ï¼Œå®Œç¾"è®°ä½"äº†å†å²æ•°æ®ï¼Œä½†é‚£äº›è§„å¾‹åªæ˜¯å™ªéŸ³
2. **é¢„æµ‹ â‰  ç›ˆåˆ©**ï¼šæ¨¡å‹çš„å‡†ç¡®ç‡ 52%ï¼Œå¬èµ·æ¥ä¸é”™ï¼Œä½†æ‰£é™¤äº¤æ˜“æˆæœ¬åå‡€äºæŸ
3. **åˆ†å¸ƒæ¼‚ç§»**ï¼š2017 å¹´çš„å¸‚åœºç»“æ„å’Œè®­ç»ƒæ•°æ®ï¼ˆ1997-2016ï¼‰å·²ç»ä¸åŒ

**æ•™è®­**ï¼šæœºå™¨å­¦ä¹ åœ¨é‡åŒ–ä¸­çš„æ­£ç¡®å®šä½ä¸æ˜¯"é¢„æµ‹æ¶¨è·Œ"ï¼Œè€Œæ˜¯**ä»å™ªéŸ³ä¸­æå–å¾®å¼±ä½†ç¨³å¥çš„ä¿¡å·**ã€‚è¿™ä¸€è¯¾æ•™ä½ å¦‚ä½•æ­£ç¡®ä½¿ç”¨ç›‘ç£å­¦ä¹ ã€‚

---

## 9.1 ç›‘ç£å­¦ä¹ çš„é‡åŒ–è§†è§’

### ä»€ä¹ˆæ˜¯ç›‘ç£å­¦ä¹ ï¼Ÿ

ç”¨å·²çŸ¥ç­”æ¡ˆçš„æ•°æ®"è®­ç»ƒ"æ¨¡å‹ï¼Œè®©å®ƒå­¦ä¼šé¢„æµ‹æœªçŸ¥æ•°æ®çš„ç­”æ¡ˆã€‚

```
è®­ç»ƒæ•°æ®ï¼š
  è¾“å…¥ Xï¼ˆç‰¹å¾ï¼‰        â†’  è¾“å‡º Yï¼ˆæ ‡ç­¾ï¼‰
  [æ˜¨æ—¥æ”¶ç›Š, æˆäº¤é‡, RSI]  â†’  [æ˜å¤©æ¶¨/è·Œ]
  [0.02, 1.5M, 65]        â†’  [æ¶¨]
  [-0.01, 2.0M, 35]       â†’  [è·Œ]

æ¨¡å‹å­¦åˆ°çš„ï¼š
  "å½“ RSI > 60 ä¸”æˆäº¤é‡æ”¾å¤§æ—¶ï¼Œæ˜å¤©æ¶¨çš„æ¦‚ç‡è¾ƒé«˜"

é¢„æµ‹é˜¶æ®µï¼š
  æ–°è¾“å…¥ [0.01, 1.8M, 70]  â†’  æ¨¡å‹é¢„æµ‹ [æ¶¨?]
```

### é‡åŒ–ä¸­çš„"æ ‡ç­¾"å›°å¢ƒ

ä¼ ç»Ÿæœºå™¨å­¦ä¹ ï¼šæ ‡ç­¾å¾ˆæ˜ç¡®ï¼ˆçŒ«/ç‹—ã€åƒåœ¾é‚®ä»¶/æ­£å¸¸é‚®ä»¶ï¼‰

é‡åŒ–é—®é¢˜ï¼š**æ ‡ç­¾è¯¥æ€ä¹ˆå®šä¹‰ï¼Ÿ**

| æ ‡ç­¾å®šä¹‰æ–¹å¼ | é—®é¢˜ |
|------------|------|
| "æ˜å¤©æ¶¨ = 1ï¼Œè·Œ = 0" | æ¶¨ 0.01% å’Œæ¶¨ 5% éƒ½æ˜¯"æ¶¨"ï¼Ÿ |
| "5 å¤©åæ”¶ç›Š > 1%" | è¿™ 5 å¤©ä¸­é—´å¯èƒ½å…ˆè·Œ 10% å†æ¶¨å›æ¥ |
| "æ”¶ç›Šç‡æœ¬èº«" | å™ªéŸ³å¤ªå¤§ï¼Œæ¨¡å‹å¾ˆéš¾å­¦åˆ°è§„å¾‹ |
| "å¤æ™® > 1 çš„æŒä»“" | éœ€è¦å›çœ‹æ•´ä¸ªæŒä»“æœŸï¼Œæœ‰å‰ç»åå·®é£é™© |

**æ­£ç¡®çš„åšæ³•**ï¼šæ ‡ç­¾åº”è¯¥åæ˜ **å¯æ‰§è¡Œçš„äº¤æ˜“å†³ç­–**ï¼Œè€ŒéæŠ½è±¡çš„é¢„æµ‹ç›®æ ‡ã€‚

### å¸¸è§è¯¯åŒº

| è¯¯åŒº | äº‹å® |
|-----|------|
| "å‡†ç¡®ç‡è¶Šé«˜è¶Šå¥½" | 52% å‡†ç¡®ç‡ä½†ç›ˆäºæ¯” 3:1 è¿œå¥½äº 70% å‡†ç¡®ç‡ç›ˆäºæ¯” 1:1 |
| "å¤æ‚æ¨¡å‹æ›´å¼º" | é‡‘èæ•°æ®ä¿¡å™ªæ¯”ä½ï¼Œç®€å•æ¨¡å‹å¾€å¾€æ›´ç¨³å¥ |
| "æ›´å¤šç‰¹å¾æ›´å¥½" | ç‰¹å¾è¿‡å¤šå¯¼è‡´ç»´åº¦ç¾éš¾å’Œè¿‡æ‹Ÿåˆ |
| "æ·±åº¦å­¦ä¹ ä¸‡èƒ½" | æ·±åº¦å­¦ä¹ éœ€è¦å¤§é‡æ•°æ®ï¼Œé‡åŒ–æ•°æ®é€šå¸¸ä¸å¤Ÿ |

---

## 9.2 ç‰¹å¾å·¥ç¨‹ï¼šé‡åŒ–çš„æ ¸å¿ƒæˆ˜åœº

> 80% çš„ Alpha æ¥è‡ªç‰¹å¾å·¥ç¨‹ï¼Œä¸æ˜¯æ¨¡å‹é€‰æ‹©ã€‚

### ç‰¹å¾çš„åˆ†ç±»

| ç‰¹å¾ç±»å‹ | ç¤ºä¾‹ | ä¿¡æ¯æ¥æº |
|---------|------|---------|
| **ä»·æ ¼ç‰¹å¾** | æ”¶ç›Šç‡ã€æ³¢åŠ¨ç‡ã€åŠ¨é‡ | OHLCV |
| **æŠ€æœ¯æŒ‡æ ‡** | RSIã€MACDã€å¸ƒæ—å¸¦ | ä»·æ ¼æ´¾ç”Ÿ |
| **ç»Ÿè®¡ç‰¹å¾** | ååº¦ã€å³°åº¦ã€è‡ªç›¸å…³ | åˆ†å¸ƒç‰¹æ€§ |
| **è·¨èµ„äº§ç‰¹å¾** | æ¿å—åŠ¨é‡ã€å¸‚åœºæƒ…ç»ª | ç›¸å…³èµ„äº§ |
| **å¦ç±»æ•°æ®** | å«æ˜Ÿå›¾åƒã€ç¤¾äº¤åª’ä½“ | å¤–éƒ¨æ•°æ® |

### ğŸ“ ç‰¹å¾æ„å»ºç¤ºä¾‹

å‡è®¾æˆ‘ä»¬æœ‰ AAPL çš„æ—¥çº¿æ•°æ®ï¼Œæ„å»ºä»¥ä¸‹ç‰¹å¾ï¼š

```
åŸºç¡€æ•°æ®ï¼ˆ5 å¤©ï¼‰ï¼š
æ—¥æœŸ      å¼€ç›˜    æœ€é«˜    æœ€ä½    æ”¶ç›˜    æˆäº¤é‡
Day 1    $180   $182   $178   $181   10M
Day 2    $181   $185   $180   $184   12M
Day 3    $184   $186   $183   $183   11M
Day 4    $183   $184   $180   $181   15M
Day 5    $181   $183   $179   $182   13M

ç‰¹å¾è®¡ç®—ï¼ˆåœ¨ Day 5 æ”¶ç›˜åï¼‰ï¼š

1. åŠ¨é‡ç‰¹å¾
   5æ—¥æ”¶ç›Šç‡ = (182 - 181) / 181 = 0.55%
   3æ—¥æ”¶ç›Šç‡ = (182 - 184) / 184 = -1.09%

2. æ³¢åŠ¨ç‡ç‰¹å¾
   5æ—¥æ”¶ç›Šåºåˆ—: [1.66%, -0.54%, -1.09%, 0.55%]
   æ—¥æ³¢åŠ¨ç‡ = std() = 1.11%
   å¹´åŒ–æ³¢åŠ¨ç‡ = 1.11% Ã— âˆš252 = 17.6%

3. æˆäº¤é‡ç‰¹å¾
   5æ—¥å‡é‡ = (10+12+11+15+13)/5 = 12.2M
   ä»Šæ—¥é‡/å‡é‡ = 13/12.2 = 1.07 (ç•¥æ”¾é‡)

4. ä»·æ ¼ä½ç½®
   5æ—¥æœ€é«˜ = $186, æœ€ä½ = $178
   å½“å‰ä½ç½® = (182-178)/(186-178) = 50% (ä¸­é—´ä½ç½®)
```

### å¥½ç‰¹å¾çš„æ ‡å‡†

| æ ‡å‡† | æ£€éªŒæ–¹æ³• | ä¸æ»¡è¶³çš„åæœ |
|-----|---------|------------|
| **æœ‰é¢„æµ‹åŠ›** | å•å˜é‡æµ‹è¯• IC > 0.03 | æµªè´¹è®¡ç®—èµ„æº |
| **ç¨³å®šæ€§** | ä¸åŒæ—¶æœŸ IC æ³¢åŠ¨å° | è¿‡æ‹Ÿåˆåˆ°ç‰¹å®šæ—¶æœŸ |
| **ä½ç›¸å…³** | ä¸ç°æœ‰ç‰¹å¾ç›¸å…³ < 0.7 | ä¿¡æ¯å†—ä½™ |
| **å¯è§£é‡Š** | èƒ½è¯´æ¸…æ¥šé€»è¾‘ | éš¾ä»¥è°ƒè¯• |

### ç‰¹å¾é€‰æ‹©çš„å®ç”¨æ–¹æ³•

**æ–¹æ³• 1ï¼šå•å˜é‡ç­›é€‰**

è®¡ç®—æ¯ä¸ªç‰¹å¾ä¸æ ‡ç­¾çš„ç›¸å…³æ€§ï¼ˆICï¼ŒInformation Coefficientï¼‰ï¼š

```
IC = corr(ç‰¹å¾æ’å, æ”¶ç›Šæ’å)

å¥½ç‰¹å¾ï¼šIC å‡å€¼ > 0.03ï¼ŒIC ç¨³å®šæ€§ï¼ˆIC/std(IC)ï¼‰> 0.5
```

**æ–¹æ³• 2ï¼šé‡è¦æ€§å‰ªæ**

è®­ç»ƒä¸€ä¸ªç®€å•æ¨¡å‹ï¼ˆå¦‚éšæœºæ£®æ—ï¼‰ï¼Œçœ‹ç‰¹å¾é‡è¦æ€§ï¼š

```
å¦‚æœ top 5 ç‰¹å¾è´¡çŒ® > 80% é‡è¦æ€§ï¼š
  â†’ åªä¿ç•™ top 5-10 ä¸ªç‰¹å¾
  â†’ å…¶ä»–ç‰¹å¾å¯èƒ½æ˜¯å™ªéŸ³
```

**æ–¹æ³• 3ï¼šé€’å½’æ¶ˆé™¤**

é€æ­¥åˆ é™¤æœ€ä¸é‡è¦çš„ç‰¹å¾ï¼Œè§‚å¯Ÿæ¨¡å‹è¡¨ç°ï¼š

```
èµ·å§‹ï¼š50 ä¸ªç‰¹å¾ï¼ŒSharpe 1.2
åˆ åˆ° 30 ä¸ªï¼šSharpe 1.3 (åè€Œä¸Šå‡ï¼)
åˆ åˆ° 10 ä¸ªï¼šSharpe 1.4 (ç»§ç»­ä¸Šå‡)
åˆ åˆ° 5 ä¸ªï¼šSharpe 1.1 (å¼€å§‹ä¸‹é™)

â†’ æœ€ä¼˜ç‰¹å¾æ•°é‡çº¦ 10 ä¸ª
```

---

## 9.3 å¸¸ç”¨æ¨¡å‹åŠå…¶é€‚ç”¨åœºæ™¯

### æ¨¡å‹å¯¹æ¯”

| æ¨¡å‹ | ä¼˜ç‚¹ | ç¼ºç‚¹ | é€‚ç”¨åœºæ™¯ |
|-----|------|------|---------|
| **çº¿æ€§å›å½’** | ç®€å•ã€å¯è§£é‡Šã€ä¸æ˜“è¿‡æ‹Ÿåˆ | åªèƒ½æ•æ‰çº¿æ€§å…³ç³» | å› å­æŠ•èµ„ã€é£é™©æ¨¡å‹ |
| **éšæœºæ£®æ—** | éçº¿æ€§ã€æŠ—è¿‡æ‹Ÿåˆã€ç‰¹å¾é‡è¦æ€§ | æ…¢ã€ä¸æ“…é•¿å¤–æ¨ | åˆ†ç±»ã€ç‰¹å¾é€‰æ‹© |
| **XGBoost/LightGBM** | å¼ºå¤§ã€å¿«é€Ÿã€å¤„ç†ç¼ºå¤±å€¼ | å®¹æ˜“è¿‡æ‹Ÿåˆã€é»‘ç›’ | é€šç”¨åˆ†ç±»/å›å½’ |
| **LSTM** | æ•æ‰æ—¶åºä¾èµ– | éœ€è¦å¤§é‡æ•°æ®ã€æ…¢ | ä»…é™æ•°æ®å……è¶³åœºæ™¯ |
| **Transformer** | å¼ºå¤§çš„æ³¨æ„åŠ›æœºåˆ¶ | æ•°æ®éœ€æ±‚æ›´å¤§ã€éš¾è®­ç»ƒ | ç ”ç©¶å‰æ²¿ï¼Œå®æˆ˜å°‘ |

### æ¨¡å‹å¤±æ•ˆæ¡ä»¶

**çº¿æ€§æ¨¡å‹å¤±æ•ˆ**ï¼š
- ç‰¹å¾ä¸æ”¶ç›Šçš„å…³ç³»æ˜¯éçº¿æ€§çš„
- å­˜åœ¨å¼ºäº¤äº’æ•ˆåº”ï¼ˆå¦‚"ä½ä¼°å€¼ + é«˜åŠ¨é‡"ï¼‰

**æ ‘æ¨¡å‹å¤±æ•ˆ**ï¼š
- éœ€è¦å¤–æ¨ï¼ˆé¢„æµ‹è¶…å‡ºè®­ç»ƒæ•°æ®èŒƒå›´çš„å€¼ï¼‰
- ç‰¹å¾æ˜¯è¿ç»­å˜åŒ–çš„ï¼ˆæ ‘æ¨¡å‹åšé˜¶æ¢¯çŠ¶é¢„æµ‹ï¼‰

**æ·±åº¦å­¦ä¹ å¤±æ•ˆ**ï¼š
- æ•°æ®é‡ < 10 ä¸‡æ¡ï¼ˆé€šå¸¸è¿‡æ‹Ÿåˆï¼‰
- ç‰¹å¾è´¨é‡å·®ï¼ˆåƒåœ¾è¿›åƒåœ¾å‡ºï¼‰
- åˆ†å¸ƒæ¼‚ç§»ä¸¥é‡ï¼ˆå†å²ä¸ä»£è¡¨æœªæ¥ï¼‰

### é‡åŒ–ä¸­çš„å®ç”¨é€‰æ‹©

```
é—®è‡ªå·±ï¼šæˆ‘æœ‰å¤šå°‘æ•°æ®ï¼Ÿ

æ•°æ®é‡ < 5000 æ¡ï¼ˆå¦‚æ—¥çº¿ 20 å¹´ï¼‰
  â†’ çº¿æ€§æ¨¡å‹ã€å²­å›å½’
  â†’ ç‰¹å¾æ•°é‡ < 20

æ•°æ®é‡ 5000-50000 æ¡ï¼ˆå¦‚åˆ†é’Ÿçº¿ 1 å¹´ï¼‰
  â†’ éšæœºæ£®æ—ã€XGBoost
  â†’ ç‰¹å¾æ•°é‡ 20-50

æ•°æ®é‡ > 50000 æ¡ï¼ˆå¦‚ tick æ•°æ®ï¼‰
  â†’ å¯ä»¥å°è¯• LSTM/Transformer
  â†’ ä½†ä»éœ€éªŒè¯æ˜¯å¦ä¼˜äºç®€å•æ¨¡å‹
```

---

## 9.4 é‡‘èæ•°æ®çš„ç‰¹æ®ŠæŒ‘æˆ˜

### ä½ä¿¡å™ªæ¯”

é‡‘èæ•°æ®çš„ä¿¡å·æå…¶å¾®å¼±ï¼š

| æ•°æ®ç±»å‹ | ä¿¡å™ªæ¯” | å¯è¾¾åˆ°çš„é¢„æµ‹åŠ› |
|---------|-------|--------------|
| å›¾åƒè¯†åˆ« | é«˜ | å‡†ç¡®ç‡ 95%+ |
| è‡ªç„¶è¯­è¨€ | ä¸­ | å‡†ç¡®ç‡ 80%+ |
| é‡‘èé¢„æµ‹ | **æä½** | å‡†ç¡®ç‡ 52-55% å·²æ˜¯é¡¶çº§ |

**ä¸ºä»€ä¹ˆé‡‘èä¿¡å™ªæ¯”è¿™ä¹ˆä½ï¼Ÿ**
- å¸‚åœºæ¥è¿‘æœ‰æ•ˆï¼šæ˜æ˜¾çš„è§„å¾‹å¾ˆå¿«è¢«å¥—åˆ©æ¶ˆé™¤
- å‚ä¸è€…ä¼—å¤šï¼šä½ å‘ç°çš„è§„å¾‹åˆ«äººä¹Ÿåœ¨ç”¨
- å™ªéŸ³ä¸»å¯¼ï¼šçŸ­æœŸä»·æ ¼ 90% æ˜¯éšæœºæ³¢åŠ¨

### éå¹³ç¨³åˆ†å¸ƒ

è®­ç»ƒæ•°æ®å’Œé¢„æµ‹æ•°æ®çš„åˆ†å¸ƒä¸åŒï¼š

```
è®­ç»ƒé›†ï¼ˆ2015-2019ï¼‰ï¼š
  æ³¢åŠ¨ç‡å‡å€¼ 15%
  è¶‹åŠ¿ä¸ºä¸»

æµ‹è¯•é›†ï¼ˆ2020ï¼‰ï¼š
  æ³¢åŠ¨ç‡é£™å‡åˆ° 80%
  æš´æ¶¨æš´è·Œ

â†’ æ¨¡å‹åœ¨ 2020 å¹´å¤±æ•ˆ
```

**åº”å¯¹æ–¹æ³•**ï¼š
- ä½¿ç”¨æ»šåŠ¨çª—å£ï¼Œä¸æ–­é‡è®­ç»ƒ
- ç‰¹å¾å½’ä¸€åŒ–ç”¨æ»šåŠ¨ç»Ÿè®¡é‡
- å¤šä¸ª regime åˆ†åˆ«å»ºæ¨¡

### ç±»åˆ«ä¸å¹³è¡¡

å¦‚æœç”¨"å¤§æ¶¨ï¼ˆ>3%ï¼‰= 1ï¼Œå…¶ä»– = 0"ï¼š

```
å¤§æ¶¨å¤©æ•°ï¼šçº¦ 5%
æ™®é€šå¤©æ•°ï¼šçº¦ 95%

æ¨¡å‹ä¼šå­¦åˆ°"æ°¸è¿œé¢„æµ‹ 0"ï¼Œå‡†ç¡®ç‡ 95%ï¼Œä½†å®Œå…¨æ²¡ç”¨
```

**åº”å¯¹æ–¹æ³•**ï¼š
- è°ƒæ•´ç±»åˆ«æƒé‡
- ä½¿ç”¨ AUC è€Œéå‡†ç¡®ç‡è¯„ä¼°
- åˆ†å±‚æŠ½æ ·ä¿è¯è®­ç»ƒé›†ç±»åˆ«å¹³è¡¡

---

## 9.5 æ¨¡å‹è¯„ä¼°ï¼šä¸æ˜¯çœ‹å‡†ç¡®ç‡

### é‡åŒ–ä¸“ç”¨è¯„ä¼°æŒ‡æ ‡

| æŒ‡æ ‡ | è®¡ç®— | å¥½çš„æ ‡å‡† |
|-----|------|---------|
| **IC (Information Coefficient)** | corr(é¢„æµ‹æ’å, å®é™…æ”¶ç›Šæ’å) | > 0.03 |
| **IR (Information Ratio)** | IC å‡å€¼ / IC æ ‡å‡†å·® | > 0.5 |
| **å¤šç©ºæ”¶ç›Š** | Top ç»„ - Bottom ç»„çš„æ”¶ç›Šå·® | æ˜¾è‘—ä¸ºæ­£ |
| **æ¢æ‰‹ç‡è°ƒæ•´æ”¶ç›Š** | æ”¶ç›Š - äº¤æ˜“æˆæœ¬ | ä»ç„¶ä¸ºæ­£ |

### ğŸ“ æ¨¡å‹è¯„ä¼°ç¤ºä¾‹

å‡è®¾æ¨¡å‹é¢„æµ‹ 100 åªè‚¡ç¥¨æ˜å¤©çš„æ”¶ç›Šæ’åï¼š

```
æ¨¡å‹é¢„æµ‹æ’åï¼ˆé«˜â†’ä½ï¼‰ï¼š
  è‚¡ç¥¨ A: 1 (é¢„æµ‹æœ€æ¶¨)
  è‚¡ç¥¨ B: 2
  ...
  è‚¡ç¥¨ Z: 100 (é¢„æµ‹æœ€è·Œ)

å®é™…æ”¶ç›Šæ’åï¼ˆé«˜â†’ä½ï¼‰ï¼š
  è‚¡ç¥¨ A: 5
  è‚¡ç¥¨ B: 10
  ...
  è‚¡ç¥¨ Z: 95

IC = corr([1,2,...,100], [5,10,...,95])
   = 0.85 (é¢„æµ‹æ’åå’Œå®é™…æ’åé«˜åº¦ç›¸å…³)
```

**è§£è¯»**ï¼š
- IC = 0.85 è¯´æ˜é¢„æµ‹æ’åå’Œå®é™…æ’åé«˜åº¦ä¸€è‡´
- å¦‚æœåšå¤š Top 10ã€åšç©º Bottom 10ï¼Œé¢„æœŸæœ‰æ˜æ˜¾è¶…é¢æ”¶ç›Š
- ä½†çœŸå®å¸‚åœº IC é€šå¸¸åªæœ‰ 0.02-0.05

### çœŸå®ä¸–ç•Œçš„æœŸæœ›

```
é¡¶çº§é‡åŒ–åŸºé‡‘çš„ ICï¼š0.03-0.05
æ™®é€šé‡åŒ–ç­–ç•¥çš„ ICï¼š0.01-0.03
éšæœºçŒœæµ‹çš„ ICï¼š0

ä¸è¦è¿½æ±‚ IC > 0.1ï¼Œé‚£å‡ ä¹ä¸€å®šæ˜¯è¿‡æ‹Ÿåˆ
```

### ç”Ÿäº§çº§ IC è®¡ç®—

åœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ï¼ŒIC è®¡ç®—éœ€è¦å¤„ç†ç¼ºå¤±å€¼ã€é€‰æ‹©æ­£ç¡®çš„ç›¸å…³æ€§æ–¹æ³•ï¼š

```python
import numpy as np
from scipy.stats import spearmanr

def calculate_ic(
    signals: np.ndarray,
    returns: np.ndarray,
    method: str = "spearman"
) -> float:
    """è®¡ç®—ä¿¡æ¯ç³»æ•° (IC) - ä¿¡å·ä¸æ”¶ç›Šçš„ç›¸å…³æ€§

    Args:
        signals: é¢„æµ‹ä¿¡å·æ•°ç»„
        returns: å®é™…æ”¶ç›Šæ•°ç»„
        method: "spearman" (æ¨è) æˆ– "pearson"

    Returns:
        ICå€¼ï¼ŒèŒƒå›´ [-1, 1]
    """
    if len(signals) != len(returns):
        raise ValueError("signals and returns must have same length")
    if len(signals) < 2:
        return 0.0

    # å¤„ç†ç¼ºå¤±å€¼ - ç”Ÿäº§ç¯å¢ƒå¿…é¡»
    mask = ~(np.isnan(signals) | np.isnan(returns))
    signals, returns = signals[mask], returns[mask]

    if len(signals) < 2:
        return 0.0

    if method == "spearman":
        ic, _ = spearmanr(signals, returns)
    else:
        ic = np.corrcoef(signals, returns)[0, 1]

    return float(ic) if not np.isnan(ic) else 0.0
```

#### ä¸ºä»€ä¹ˆæ¨è Spearmanï¼Ÿ

| ç‰¹æ€§ | Pearson | Spearman |
|-----|---------|----------|
| å¯¹å¼‚å¸¸å€¼æ•æ„Ÿåº¦ | é«˜ | ä½ï¼ˆä½¿ç”¨æ’åï¼‰ |
| æ•è·å…³ç³»ç±»å‹ | ä»…çº¿æ€§ | ä»»æ„å•è°ƒ |
| åˆ†å¸ƒå‡è®¾ | éœ€è¦æ­£æ€ | æ— å‡è®¾ |
| é‡‘èæ•°æ®é€‚ç”¨æ€§ | å—è‚¥å°¾å½±å“ | æ›´ç¨³å¥ |

#### ä½¿ç”¨ç¤ºä¾‹

```python
# è®¡ç®—åŠ¨é‡å› å­çš„ IC
momentum_signal = df['return_20d'].shift(1)  # 20æ—¥åŠ¨é‡
forward_return = df['return_5d'].shift(-5)   # æœªæ¥5æ—¥æ”¶ç›Š
ic = calculate_ic(momentum_signal.values, forward_return.values)
print(f"åŠ¨é‡å› å­ IC: {ic:.4f}")

# æ»šåŠ¨ IC - è¯„ä¼°å› å­ç¨³å®šæ€§
rolling_ic = df.groupby('date').apply(
    lambda x: calculate_ic(x['signal'].values, x['return'].values)
)
ic_mean = rolling_ic.mean()
ic_std = rolling_ic.std()
ir = ic_mean / ic_std  # Information Ratio
print(f"IC Mean: {ic_mean:.4f}, IC Std: {ic_std:.4f}, IR: {ir:.2f}")
```

#### ç”Ÿäº§ç¯å¢ƒæ³¨æ„äº‹é¡¹

1. **æ•°æ®å¯¹é½**ï¼šç¡®ä¿ä¿¡å·å’Œæ”¶ç›Šæ—¶é—´å¯¹é½ï¼Œé¿å… look-ahead bias
2. **æœ€å°æ ·æœ¬é‡**ï¼šIC è®¡ç®—è‡³å°‘éœ€è¦ 30+ ä¸ªæ ·æœ¬æ‰æœ‰ç»Ÿè®¡æ„ä¹‰
3. **IC è¡°å‡ç›‘æ§**ï¼šè¿ç»­ 20 å¤© IC < 0 åº”è§¦å‘å› å­å¤±æ•ˆè­¦æŠ¥
4. **è¡Œä¸šä¸­æ€§åŒ–**ï¼šè®¡ç®— IC å‰å…ˆå¯¹ä¿¡å·åšè¡Œä¸šä¸­æ€§åŒ–å¤„ç†

---

## 9.6 å¤šæ™ºèƒ½ä½“è§†è§’

### Signal Agent çš„æ¨¡å‹é€‰æ‹©

åœ¨å¤šæ™ºèƒ½ä½“ç³»ç»Ÿä¸­ï¼Œç›‘ç£å­¦ä¹ æ¨¡å‹æ˜¯ Signal Agent çš„æ ¸å¿ƒï¼š

![Signal Agent æ¶æ„](assets/signal-agent-architecture.svg)

### æ¨¡å‹å¤±æ•ˆæ—¶æ€ä¹ˆåŠï¼Ÿ

Signal Agent éœ€è¦æ£€æµ‹è‡ªèº«æ¨¡å‹æ˜¯å¦å¤±æ•ˆï¼š

| æ£€æµ‹æŒ‡æ ‡ | é˜ˆå€¼ | è§¦å‘åŠ¨ä½œ |
|---------|------|---------|
| æ»šåŠ¨ IC < 0 è¿ç»­ 20 å¤© | - | é™ä½ä¿¡å·æƒé‡ 50% |
| é¢„æµ‹åˆ†å¸ƒå¼‚å¸¸ | ååº¦ > 2 | æš‚åœä¿¡å·è¾“å‡º |
| æ¨¡å‹ç½®ä¿¡åº¦ä¸‹é™ | é¢„æµ‹æ–¹å·®å¢å¤§ | é€šçŸ¥ Meta Agent |

**å…³é”®è®¾è®¡**ï¼šSignal Agent ä¸æ˜¯æ°¸è¿œæ­£ç¡®çš„ï¼Œå®ƒéœ€è¦æœ‰"è‡ªæˆ‘æ€€ç–‘"æœºåˆ¶ã€‚

---

## ğŸ’» ä»£ç å®ç°ï¼ˆå¯é€‰ï¼‰

<details>
<summary>å±•å¼€ä»£ç ç¤ºä¾‹</summary>

```python
import pandas as pd
import numpy as np
from sklearn.ensemble import RandomForestClassifier
from sklearn.model_selection import TimeSeriesSplit

def create_features(df: pd.DataFrame, lookback: int = 20) -> pd.DataFrame:
    """æ„å»ºé‡åŒ–ç‰¹å¾"""
    features = pd.DataFrame(index=df.index)

    # åŠ¨é‡ç‰¹å¾
    features['ret_1d'] = df['close'].pct_change(1)
    features['ret_5d'] = df['close'].pct_change(5)
    features['ret_20d'] = df['close'].pct_change(20)

    # æ³¢åŠ¨ç‡ç‰¹å¾
    features['vol_20d'] = df['close'].pct_change().rolling(20).std()

    # æˆäº¤é‡ç‰¹å¾
    features['vol_ratio'] = df['volume'] / df['volume'].rolling(20).mean()

    # ä»·æ ¼ä½ç½®
    features['price_pos'] = (
        (df['close'] - df['low'].rolling(20).min()) /
        (df['high'].rolling(20).max() - df['low'].rolling(20).min())
    )

    return features.shift(1)  # é¿å… look-ahead bias

def create_label(df: pd.DataFrame, horizon: int = 5, threshold: float = 0.02):
    """åˆ›å»ºæ ‡ç­¾ï¼šæœªæ¥ n å¤©æ”¶ç›Šæ˜¯å¦è¶…è¿‡é˜ˆå€¼"""
    future_ret = df['close'].pct_change(horizon).shift(-horizon)
    label = (future_ret > threshold).astype(int)
    return label

def calculate_ic(predictions: pd.Series, returns: pd.Series) -> float:
    """è®¡ç®— Information Coefficient"""
    return predictions.corr(returns, method='spearman')

def walk_forward_train(df: pd.DataFrame, n_splits: int = 5):
    """Walk-Forward è®­ç»ƒå’Œè¯„ä¼°"""
    features = create_features(df)
    labels = create_label(df)

    # å¯¹é½æ•°æ®
    valid_idx = features.dropna().index.intersection(labels.dropna().index)
    X = features.loc[valid_idx]
    y = labels.loc[valid_idx]

    tscv = TimeSeriesSplit(n_splits=n_splits)
    results = []

    for train_idx, test_idx in tscv.split(X):
        X_train, X_test = X.iloc[train_idx], X.iloc[test_idx]
        y_train, y_test = y.iloc[train_idx], y.iloc[test_idx]

        model = RandomForestClassifier(n_estimators=100, max_depth=5, random_state=42)
        model.fit(X_train, y_train)

        predictions = model.predict_proba(X_test)[:, 1]
        # è®¡ç®—å‰å‘æ”¶ç›Šï¼ˆæœªæ¥5å¤©ï¼‰ï¼Œä¸é¢„æµ‹å¯¹é½
        forward_returns = df.loc[X_test.index, 'close'].pct_change(5).shift(-5)
        ic = calculate_ic(pd.Series(predictions, index=X_test.index),
                         forward_returns)

        results.append({
            'test_start': X_test.index[0],
            'test_end': X_test.index[-1],
            'ic': ic,
            'accuracy': (model.predict(X_test) == y_test).mean()
        })

    return pd.DataFrame(results)
```

</details>

---

## æœ¬è¯¾äº¤ä»˜ç‰©

å®Œæˆæœ¬è¯¾åï¼Œä½ å°†è·å¾—ï¼š

1. **å¯¹ç›‘ç£å­¦ä¹ åœ¨é‡åŒ–ä¸­å®šä½çš„ç†è§£** - çŸ¥é“å®ƒèƒ½åšä»€ä¹ˆã€ä¸èƒ½åšä»€ä¹ˆ
2. **ç‰¹å¾å·¥ç¨‹çš„å®ç”¨æŠ€èƒ½** - èƒ½æ„å»ºå’Œç­›é€‰æœ‰æ•ˆçš„é‡åŒ–ç‰¹å¾
3. **æ¨¡å‹é€‰æ‹©æ¡†æ¶** - æ ¹æ®æ•°æ®é‡é€‰æ‹©åˆé€‚çš„æ¨¡å‹
4. **æ­£ç¡®çš„è¯„ä¼°æ–¹æ³•** - ç”¨ IC/IR è€Œéå‡†ç¡®ç‡è¯„ä¼°æ¨¡å‹

### âœ… éªŒæ”¶æ ‡å‡†

| æ£€æŸ¥é¡¹ | éªŒæ”¶æ ‡å‡† | è‡ªæµ‹æ–¹æ³• |
|-------|---------|---------|
| **ç‰¹å¾æ„å»º** | èƒ½ä» OHLCV æ•°æ®æ„å»º 5 ä¸ªç‰¹å¾ | ç»™å®šä»·æ ¼æ•°æ®ï¼Œæ‰‹ç®—ç‰¹å¾å€¼ |
| **æ¨¡å‹é€‰æ‹©** | èƒ½æ ¹æ®æ•°æ®é‡æ¨èæ¨¡å‹ | ç»™å®š"3 å¹´æ—¥çº¿"åœºæ™¯ï¼Œè¯´å‡ºæ¨è |
| **IC è®¡ç®—** | èƒ½è§£é‡Š IC=0.03 çš„å«ä¹‰ | ä¸çœ‹ç¬”è®°ï¼Œè§£é‡Š IC çš„ä¸šåŠ¡æ„ä¹‰ |
| **å¤±æ•ˆæ£€æµ‹** | èƒ½åˆ—å‡º 3 ä¸ªæ¨¡å‹å¤±æ•ˆä¿¡å· | è®¾è®¡ Signal Agent çš„è‡ªæ£€é€»è¾‘ |

---

## æœ¬è¯¾è¦ç‚¹å›é¡¾

- [x] ç†è§£ç›‘ç£å­¦ä¹ åœ¨é‡åŒ–ä¸­çš„æ­£ç¡®å®šä½ï¼šæå–å¾®å¼±ä¿¡å·ï¼Œè€Œéé¢„æµ‹æ¶¨è·Œ
- [x] æŒæ¡ç‰¹å¾å·¥ç¨‹çš„æ ¸å¿ƒæ–¹æ³•ï¼šæ„å»ºã€ç­›é€‰ã€è¯„ä¼°
- [x] è®¤è¯†é‡‘èæ•°æ®çš„ç‰¹æ®ŠæŒ‘æˆ˜ï¼šä½ä¿¡å™ªæ¯”ã€éå¹³ç¨³ã€ç±»åˆ«ä¸å¹³è¡¡
- [x] å­¦ä¼šç”¨ IC/IR è€Œéå‡†ç¡®ç‡è¯„ä¼°æ¨¡å‹
- [x] ç†è§£ Signal Agent å¦‚ä½•é›†æˆç›‘ç£å­¦ä¹ æ¨¡å‹

---

## å»¶ä¼¸é˜…è¯»

- *Advances in Financial Machine Learning* by Marcos LÃ³pez de Prado
- [èƒŒæ™¯çŸ¥è¯†ï¼šLLM é‡åŒ–ç ”ç©¶è¿›å±•](èƒŒæ™¯çŸ¥è¯†/LLMé‡åŒ–ç ”ç©¶è¿›å±•.md) - æœ€æ–°ç ”ç©¶æ–¹å‘

---

## ä¸‹ä¸€è¯¾é¢„å‘Š

**ç¬¬ 10 è¯¾ï¼šä»æ¨¡å‹åˆ° Agent**

æ¨¡å‹åªä¼šè¾“å‡ºé¢„æµ‹ï¼Œä½†äº¤æ˜“éœ€è¦å†³ç­–ã€‚å¦‚ä½•æŠŠä¸€ä¸ª"é¢„æµ‹æ¨¡å‹"åŒ…è£…æˆä¸€ä¸ª"èƒ½åšå†³ç­–çš„ Agent"ï¼Ÿä¸‹ä¸€è¯¾æˆ‘ä»¬è·¨è¶Šä»æ¨¡å‹åˆ° Agent çš„é¸¿æ²Ÿã€‚
